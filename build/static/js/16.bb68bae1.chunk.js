(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[16],{794:function(e,t,a){},905:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(9),l=(a(794),a(793)),s=a(103),o=a(36),r=(a(104),a(5)),d=a(2);t.default=()=>{const[e,t]=Object(c.useState)(!1),[a,i]=Object(c.useState)(""),[b,j]=Object(c.useState)(""),h=(e,a)=>{t(!0),i(e),j(a)},m=Object(n.e)(),u=m.state&&m.state.data;console.log(u);const O=Object(n.f)();let S=Object(n.g)(),g=parseInt(S.id);isNaN(g)&&(g=0);const{t:p}=Object(l.a)(),[y,x]=Object(c.useState)([]),[w,A]=Object(c.useState)([]),[N,f]=Object(c.useState)([]),[v,I]=Object(c.useState)({label:u?u.label:"",managerId:u?u.countryLabel:null,countryId:u?u.countryId:null,cityId:u?u.cityId:null,address:u?u.address:null,branchData:u?u.branchData:{},contactNo:u?u.contactNo:"",managerLabel:u?u.managerLabel:""}),E=e=>{"countryId"==e.target.name&&C(e.target.value),I({...v,[e.target.name]:e.target.value})},C=async e=>{if(null!=e){var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("countryId",e);var c={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Cities/GetAllByCountryId"),c).then((e=>e.json())).then((e=>{1===e.SUCCESS?f(e.DATA):Object(o.b)(e.USER_MESSAGE)})).catch((e=>{Object(o.b)("Failed to fetch ! Please try Again later.")}))}};Object(c.useEffect)((()=>{(async()=>{await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/FirmsBranches/GetUsersDropDownByFirm"),{method:"POST",headers:{Authorization:"Bearer "+window.localStorage.getItem("AtouBeatXToken")},redirect:"follow"}).then((e=>e.json())).then((e=>{console.log(e),1===e.SUCCESS?A(e.DATA):Object(o.b)(e.USER_MESSAGE)})).catch((e=>{Object(o.b)(e.USER_MESSAGE)}))})(),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Countries/GetAll"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS?x(e.DATA):Object(o.b)(e.USER_MESSAGE)})).catch((e=>{Object(o.b)("Failed to fetch ! Please try Again later.")}))})()}),[]);return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(o.a,{}),Object(d.jsxs)(r.s,{id:"branchData",onSubmit:()=>(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData(document.getElementById("branchData")),redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/FirmsBranches/Save"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS?h(Object(d.jsxs)("span",{children:[e.USER_MESSAGE,"."]}),"primary"):h(Object(d.jsxs)("span",{children:[e.USER_MESSAGE,"."]}),"danger")})).catch((e=>{console.log("error",e),h(Object(d.jsx)("span",{children:"Failed to fetch ! Please try Again later."}),"danger")}))})(),children:[Object(d.jsxs)(r.B,{children:[Object(d.jsxs)(r.o,{md:"4",className:"mb-1",children:[Object(d.jsx)(r.w,{className:"form-label",children:p("Store Name")}),Object(d.jsx)(r.t,{id:"label",name:"label",value:v.label,onChange:E,placeholder:"Store Name"})]}),Object(d.jsxs)(r.o,{md:"4",className:"mb-1",children:[Object(d.jsx)(r.w,{className:"form-label",children:p("Select Manager")}),Object(d.jsxs)(r.t,{type:"select",name:"managerId",id:"managerId",value:v.managerId,onChange:E,children:[Object(d.jsx)("option",{}),w&&w.length>0?w.map(((e,t)=>Object(d.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(d.jsxs)(r.o,{md:"4",className:"mb-1",children:[Object(d.jsx)(r.w,{className:"form-label",children:p("Select Country")}),Object(d.jsxs)(r.t,{type:"select",name:"countryId",id:"countryId",value:v.countryId,onChange:E,children:[Object(d.jsx)("option",{}),y&&y.length>0?y.map(((e,t)=>Object(d.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(d.jsxs)(r.B,{children:[Object(d.jsxs)(r.o,{md:"4",className:"mb-1",children:[Object(d.jsx)(r.w,{className:"form-label",children:p("Select City")}),Object(d.jsxs)(r.t,{type:"select",name:"cityId",id:"cityId",value:v.cityId,onChange:E,children:[Object(d.jsx)("option",{}),N&&N.length>0?N.map(((e,t)=>Object(d.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(d.jsxs)(r.o,{md:"4",className:"mb-1",children:[Object(d.jsx)(r.w,{className:"form-label",children:p("Address")}),Object(d.jsx)(r.t,{id:"address",name:"address",value:v.address,onChange:E,placeholder:"Address"})]}),Object(d.jsxs)(r.o,{md:"4",className:"mb-1",children:[Object(d.jsx)(r.w,{className:"form-label",children:p("Contact No")}),Object(d.jsx)(r.t,{id:"contactNo",name:"contactNo",value:v.contactNo,onChange:E,placeholder:"contact No"})]})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(d.jsx)(r.e,{color:"secondary",className:"btn-prev ",outline:!0,onClick:()=>(I({label:"",managerId:null,countryId:null,cityId:null,address:null,branchData:"",contactNo:"",managerLabel:""}),void O("/StoreLocationList")),children:Object(d.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(d.jsx)(r.e,{type:"submit",color:"primary",className:"btn-next",children:Object(d.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Save"})})]})]}),Object(d.jsx)(s.a,{isOpen:e,message:a,severity:b,handleCloseAlert:()=>{var e;"clickaway"!==e&&t(!1)}})]})}}}]);
//# sourceMappingURL=16.bb68bae1.chunk.js.map