{"version":3,"sources":["views/pages/ManualAttendance/ViewAttendanceData/ViewAttendanceData.js"],"names":["styles","bgHeading","background","color","padding","textAlign","btnStyle","border","borderRadius","btnSpacing","display","justifyContent","alignItems","flexDirection","pad_Col","ViewAllEmployeesData","attendance","setAttendance","useState","useNavigate","useEffect","async","fetch","concat","process","method","headers","Authorization","window","localStorage","getItem","redirect","then","response","status","Logout","json","result","console","log","SUCCESS","DATA","handleOpenAlert","_jsxs","children","USER_MESSAGE","catch","error","_jsx","getAllAtt","columnDefs","useMemo","headerName","field","sortable","filter","floatingFilter","cellRenderer","params","style","onClick","navigateToEdit","data","className","MdModeEdit","size","marginLeft","deleteLeave","item","id","MdDelete","height","width","AgGridReact","rowData","pagination","paginationPageSize","paginationAutoPageSize","suppressPaginationPanel","animateRows","defaultColDef","resizable"],"mappings":"iGAAA,kEAQA,MAAMA,EAAS,CACbC,UAAW,CACTC,WAAY,UACZC,MAAO,QACPC,QAAS,OACTC,UAAW,UAEbC,SAAU,CACRC,OAAQ,OACRH,QAAS,WACTF,WAAY,UACZC,MAAO,QACPK,aAAc,QAEhBC,WAAY,CACVC,QAAS,OACTC,eAAgB,eAChBC,WAAY,SACZC,cAAe,QAEjBC,QAAS,CACPV,QAAS,OACTC,UAAW,WAkOAU,UA/NcA,KAC3B,MAAOC,EAAYC,GAAiBC,mBAAS,IAC5BC,cAiFjBC,qBAAU,KA7EQC,iBACVC,MAAM,GAADC,OACNC,2BAAgCD,OAAGC,OAAkC,mCACxE,CACEC,OAAQ,OACRC,QAAS,CACPC,cACE,UAAYC,OAAOC,aAAaC,QAAQ,mBAE5CC,SAAU,WAGXC,MAAMC,IACmB,MAApBA,EAASC,QACVC,OAEIF,EAASG,UAEjBJ,MAAMK,IACLC,QAAQC,IAAIF,GACW,IAAnBA,EAAOG,QACTvB,EAAcoB,EAAOI,MAErBC,gBAAgBC,eAAA,QAAAC,SAAA,CAAOP,EAAOQ,aAAa,OAAU,SACvD,IAEDC,OAAOC,IACNT,QAAQC,IAAI,QAASQ,GACrBL,gBACEM,cAAA,QAAAJ,SAAM,8CACN,SACD,GACD,EA8CJK,EAAW,GACV,IAEH,MAAMC,EAAaC,mBACjB,IAAM,CACJ,CACEC,WAAY,gBACZC,MAAO,YACPC,UAAU,EACVC,QAAQ,EACRC,gBAAgB,GAElB,CACEJ,WAAY,kBACZC,MAAO,sBACPC,UAAU,EACVC,QAAQ,EACRC,gBAAgB,GAElB,CACEJ,WAAY,OACZC,MAAO,6BACPC,UAAU,EACVC,QAAQ,EACRC,gBAAgB,GAElB,CACEJ,WAAY,OACZC,MAAO,6BACPC,UAAU,EACVC,QAAQ,EACRC,gBAAgB,GAGlB,CACEJ,WAAY,SACZK,aAAeC,GACbf,eAAA,OAAKgB,MAAO3D,EAAOS,WAAWmC,SAAA,CAC5BI,cAAA,UACEY,QAASA,IAAMC,eAAeH,EAAOI,MACrCC,UAAU,GACVJ,MAAO3D,EAAOM,SAASsC,SAEvBI,cAACgB,IAAU,CAACC,KAAM,OAEpBjB,cAAA,UACEW,MAAO,IAAK3D,EAAOM,SAAU4D,WAAY,OACzCN,QAASA,IAAMO,YAAYC,KAAKC,IAAIzB,SAEpCI,cAACsB,IAAQ,CAACL,KAAM,aAM1B,IAGF,OACEjB,cAAA,OAAKe,UAAU,mBAAkBnB,SAC/BI,cAAA,OACEe,UAAU,kBACVJ,MAAO,CACLY,OAAQ,QACRC,MAAO,OACP9D,QAAS,OACTC,eAAgB,eAChBE,cAAe,UACf+B,SAEFI,cAACyB,cAAW,CACVvB,WAAYA,EACZwB,QAAS1D,EACT2D,YAAY,EACZC,mBAAoB,GACpBC,wBAAwB,EACxBC,yBAAyB,EACzBC,aAAa,EACbC,cAAe,CACb1B,UAAU,EACV2B,WAAW,EACX1B,QAAQ,QAsDV,C","file":"static/js/37.959434e3.chunk.js","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { MdModeEdit } from \"react-icons/md\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport \"ag-grid-community/styles/ag-grid.css\";\r\nimport \"ag-grid-community/styles/ag-theme-quartz.css\";\r\n\r\nconst styles = {\r\n  bgHeading: {\r\n    background: \"#10a945\",\r\n    color: \"white\",\r\n    padding: \"30px\",\r\n    textAlign: \"center\",\r\n  },\r\n  btnStyle: {\r\n    border: \"none\",\r\n    padding: \"0px 12px\",\r\n    background: \"#10a945\",\r\n    color: \"white\",\r\n    borderRadius: \"10px\",\r\n  },\r\n  btnSpacing: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"item\",\r\n  },\r\n  pad_Col: {\r\n    padding: \"15px\",\r\n    textAlign: \"center\",\r\n  },\r\n};\r\nconst ViewAllEmployeesData = () => {\r\n  const [attendance, setAttendance] = useState([]);\r\n  const navigate = useNavigate();\r\n  const handleNavigation = (id) => {\r\n    navigate(\"/AdminManualAttendance/\" + id);\r\n  };\r\n  const getAllAtt = async () => {\r\n    await fetch(\r\n      `${process.env.REACT_APP_API_DOMAIN}${process.env.REACT_APP_SUB_API_NAME}/Attendances/GetAllManualByFirm`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer \" + window.localStorage.getItem(\"AtouBeatXToken\"),\r\n        },\r\n        redirect: \"follow\",\r\n      }\r\n    )\r\n      .then((response) => {\r\n        if (response.status === 401) {\r\n          <Logout />;\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((result) => {\r\n        console.log(result);\r\n        if (result.SUCCESS === 1) {\r\n          setAttendance(result.DATA);\r\n        } else {\r\n          handleOpenAlert(<span>{result.USER_MESSAGE}.</span>, \"danger\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n        handleOpenAlert(\r\n          <span>Failed to fetch ! Please try Again later.</span>,\r\n          \"danger\"\r\n        );\r\n      });\r\n  };\r\n\r\n  const editBranch = (id) => {\r\n    window.location.replace(\"#/MainDashboard/AdminManualAttendance/\" + id);\r\n  };\r\n  const delAttendance = async (id) => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"AtouBeatXToken\")\r\n    );\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"id\", id);\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: formdata,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    await fetch(\r\n      `${process.env.REACT_APP_API_DOMAIN}${process.env.REACT_APP_SUB_API_NAME}/Attendances/DeleteByIdAndFirm`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (result.SUCCESS === 1) {\r\n          handleOpenAlert(<span>{result.USER_MESSAGE}.</span>, \"primary\");\r\n          // window.location.reload();\r\n        } else {\r\n          handleOpenAlert(<span>{result.USER_MESSAGE}.</span>, \"danger\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n        handleOpenAlert(\r\n          <span>Failed to fetch ! Please try Again later.</span>,\r\n          \"danger\"\r\n        );\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllAtt();\r\n  }, []);\r\n\r\n  const columnDefs = useMemo(\r\n    () => [\r\n      {\r\n        headerName: \"Employee Name\",\r\n        field: \"userLabel\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Attendance Type\",\r\n        field: \"attendanceTypeLabel\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Date\",\r\n        field: \"createdOnByUserDateDisplay\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Time\",\r\n        field: \"createdOnByUserTimeDisplay\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n\r\n      {\r\n        headerName: \"Action\",\r\n        cellRenderer: (params) => (\r\n          <div style={styles.btnSpacing}>\r\n            <button\r\n              onClick={() => navigateToEdit(params.data)}\r\n              className=\"\"\r\n              style={styles.btnStyle}\r\n            >\r\n              <MdModeEdit size={20} />\r\n            </button>\r\n            <button\r\n              style={{ ...styles.btnStyle, marginLeft: \"8px\" }}\r\n              onClick={() => deleteLeave(item.id)}\r\n            >\r\n              <MdDelete size={25} />\r\n            </button>\r\n          </div>\r\n        ),\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <div\r\n        className=\"ag-theme-quartz\"\r\n        style={{\r\n          height: \"500px\",\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-evenly\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <AgGridReact\r\n          columnDefs={columnDefs}\r\n          rowData={attendance}\r\n          pagination={true}\r\n          paginationPageSize={10}\r\n          paginationAutoPageSize={true}\r\n          suppressPaginationPanel={true}\r\n          animateRows={true}\r\n          defaultColDef={{\r\n            sortable: true,\r\n            resizable: true,\r\n            filter: true,\r\n          }}\r\n        />\r\n      </div>\r\n      {/* <table className=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\" style={styles.bgHeading}>\r\n              Employee Name\r\n            </th>\r\n            <th scope=\"col\" style={styles.bgHeading}>\r\n              Attendance Type\r\n            </th>\r\n            <th scope=\"col\" style={styles.bgHeading}>\r\n              Date\r\n            </th>\r\n            <th scope=\"col\" style={styles.bgHeading}>\r\n              Time\r\n            </th>\r\n            <th scope=\"col\" style={styles.bgHeading}>\r\n              Action\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {attendance.length !== 0 &&\r\n            attendance.map((item) => (\r\n              <tr key={item.id}>\r\n                <td style={styles.pad_Col}>{item.userLabel}</td>\r\n                <td style={styles.pad_Col}>{item.attendanceTypeLabel}</td>\r\n                <td style={styles.pad_Col}>\r\n                  {item.createdOnByUserDateDisplay}\r\n                </td>\r\n                <td style={styles.pad_Col}>\r\n                  {item.createdOnByUserTimeDisplay}\r\n                </td>\r\n                <td style={styles.btnSpacing}>\r\n                  <button\r\n                    style={styles.btnStyle}\r\n                    onClick={() => handleNavigation(item.id)}\r\n                  >\r\n                    <MdModeEdit size={25} />\r\n                  </button>\r\n                  <button\r\n                    style={styles.btnStyle}\r\n                    onClick={() => delAttendance(row.id)}\r\n                  >\r\n                    <MdDelete size={25} />\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewAllEmployeesData;\r\n"],"sourceRoot":""}