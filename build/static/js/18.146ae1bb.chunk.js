(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[18],{791:function(e,a,t){},893:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t(9),c=(t(791),t(790)),s=t(794),l=t.n(s),r=t(58),d=t.n(r),i=t(5),m=t(2);a.default=()=>{const e=Object(o.f)();let a=Object(o.g)(),t=parseInt(a.id);isNaN(t)&&(t=0);const{t:s}=Object(c.a)(),[r,h]=Object(n.useState)([]),[j,b]=Object(n.useState)([]),[p,u]=Object(n.useState)(new Date),[v,O]=Object(n.useState)(""),[w,S]=Object(n.useState)({userdate:"",usertime:"",attendanceTypeId:"",userId:""}),y=e=>{S({...w,[e.target.name]:e.target.value})};Object(n.useEffect)((()=>{(async e=>{if(0!==e){var a=new Headers;a.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData;t.append("id",e);var n={method:"POST",headers:a,body:t,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Leaves/GetByIdAndFirm"),n).then((e=>e.json())).then((e=>{if(console.log("getStoreById:",e),1===e.SUCCESS){let a=e.DATA;a&&(S({leaveReason:a.leaveReason,usertime:a.createdOnTimeByUser,leaveTypeId:a.leaveTypeId}),O(a.userId))}})).catch((e=>{console.log("error",e)}))}})(t),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Leaves/GetLeaveTypesDropdown"),a).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let a=e.DATA;a&&b(a)}})).catch((e=>{console.log("error",e)}))})(),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Attendances/GetUsersDropdownByFirm"),a).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let a=e.DATA;a&&h(a)}})).catch((e=>{console.log("error",e)}))})()}),[]);return Object(m.jsx)(n.Fragment,{children:Object(m.jsxs)(i.s,{id:"employeedata",onSubmit:()=>(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData(document.getElementById("leaveForm"));a.append("userId",v),a.append("id",t),console.log(a);var n={method:"POST",headers:e,body:a,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Leaves/Save"),n).then((e=>e.json())).then((e=>{e.SUCCESS})).catch((e=>{console.log("error",e)}))})(),children:[Object(m.jsxs)(i.B,{children:[Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:s("Select Employee")}),Object(m.jsxs)(i.t,{type:"select",id:"userId",name:"userId",value:w.userId,onChange:y,placeholder:"Select Employee",children:[Object(m.jsx)("option",{}),r&&r.length>0?r.map(((e,a)=>Object(m.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:s("Leave Type")}),Object(m.jsxs)(i.t,{type:"select",name:"leaveTypeId",id:"leaveTypeId",placeholder:"Leave Type",value:w.attendanceTypeId,onChange:y,children:[Object(m.jsx)("option",{}),j&&j.length>0?j.map(((e,a)=>Object(m.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(m.jsxs)(i.B,{children:[Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"Leave Date"}),Object(m.jsx)(l.a,{id:"date-time-picker",className:"form-control",onChange:e=>(e=>{const a=e[0],t=d()(a).format("DD/MM/YYYY");console.log(t)})(e)})]}),Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"Leave Time"}),Object(m.jsx)(i.t,{value:p,type:"time",id:"time-picker",className:"form-control",onChange:e=>(e=>{const a=e.target.value,t=d()(a,"HH:mm:ss").format("hh:mm a");u(a),console.log(t)})(e)})]})]}),Object(m.jsx)(i.B,{children:Object(m.jsxs)(i.o,{md:"12",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:s("Leave Reason")}),Object(m.jsx)(i.t,{id:"leaveReason",name:"leaveReason",autoComplete:"family-name",value:w.lastName,onChange:y,placeholder:"Leave Reason"})]})}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)(i.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{e("/ViewAllLeavesData")},children:Object(m.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(m.jsx)(i.e,{type:"submit",color:"primary",className:"btn-next",children:Object(m.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Save"})})]})]})})}}}]);
//# sourceMappingURL=18.146ae1bb.chunk.js.map