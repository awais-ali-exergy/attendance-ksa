(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[19],{794:function(e,t,a){},899:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(9),n=(a(794),a(793)),l=a(797),o=a.n(l),r=a(59),d=a.n(r),i=a(5),b=a(103),j=a(36),m=(a(104),a(2));t.default=()=>{const[e,t]=Object(c.useState)(!1),[a,l]=Object(c.useState)(""),[r,h]=Object(c.useState)(""),p=Object(s.f)();let O=Object(s.g)(),S=parseInt(O.id);isNaN(S)&&(S=0);const{t:u}=Object(n.a)(),[v,y]=Object(c.useState)([]),[w,f]=Object(c.useState)([]),[g,x]=Object(c.useState)(new Date),[A,E]=Object(c.useState)(""),[T,I]=Object(c.useState)({userdate:"",usertime:"",attendanceTypeId:"",userId:""}),N=e=>{I({...T,[e.target.name]:e.target.value})};Object(c.useEffect)((()=>{(async e=>{if(0!==e){var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("id",e);var c={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Leaves/GetByIdAndFirm"),c).then((e=>e.json())).then((e=>{if(console.log("getStoreById:",e),1===e.SUCCESS){let t=e.DATA;t&&(I({leaveReason:t.leaveReason,usertime:t.createdOnTimeByUser,leaveTypeId:t.leaveTypeId}),E(t.userId)),Object(j.b)(e.USER_MESSAGE)}else Object(j.b)(e.USER_MESSAGE)})).catch((e=>{Object(j.b)("Failed to fetch ! Please try Again later")}))}})(S),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Leaves/GetLeaveTypesDropdown"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&f(t),Object(j.b)(e.USER_MESSAGE)}else Object(j.b)(e.USER_MESSAGE)})).catch((e=>{Object(j.b)("Failed to fetch ! Please try Again later")}))})(),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Attendances/GetUsersDropdownByFirm"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&y(t),Object(j.b)(e.USER_MESSAGE)}else Object(j.b)(e.USER_MESSAGE)})).catch((e=>{Object(j.b)("Failed to fetch ! Please try Again later")}))})()}),[]);return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(j.a,{}),Object(m.jsxs)(i.s,{id:"employeedata",onSubmit:()=>(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData(document.getElementById("leaveForm"));t.append("userId",A),t.append("id",S),console.log(t);var a={method:"POST",headers:e,body:t,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Leaves/Save"),a).then((e=>e.json())).then((e=>{e.SUCCESS,Object(j.b)(e.USER_MESSAGE)})).catch((e=>{Object(j.b)("Failed to fetch ! Please try Again later")}))})(),children:[Object(m.jsxs)(i.B,{children:[Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:u("Select Employee")}),Object(m.jsxs)(i.t,{type:"select",id:"userId",name:"userId",value:T.userId,onChange:N,placeholder:"Select Employee",children:[Object(m.jsx)("option",{}),v&&v.length>0?v.map(((e,t)=>Object(m.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:u("Leave Type")}),Object(m.jsxs)(i.t,{type:"select",name:"leaveTypeId",id:"leaveTypeId",placeholder:"Leave Type",value:T.attendanceTypeId,onChange:N,children:[Object(m.jsx)("option",{}),w&&w.length>0?w.map(((e,t)=>Object(m.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(m.jsxs)(i.B,{children:[Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"Leave Date"}),Object(m.jsx)(o.a,{id:"date-time-picker",className:"form-control",onChange:e=>(e=>{const t=e[0],a=d()(t).format("DD/MM/YYYY");console.log(a)})(e)})]}),Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"Leave Time"}),Object(m.jsx)(i.t,{value:g,type:"time",id:"time-picker",className:"form-control",onChange:e=>(e=>{const t=e.target.value,a=d()(t,"HH:mm:ss").format("hh:mm a");x(t),console.log(a)})(e)})]})]}),Object(m.jsx)(i.B,{children:Object(m.jsxs)(i.o,{md:"12",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:u("Leave Reason")}),Object(m.jsx)(i.t,{id:"leaveReason",name:"leaveReason",autoComplete:"family-name",value:T.lastName,onChange:N,placeholder:"Leave Reason"})]})}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)(i.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{p("/ViewAllLeavesData")},children:Object(m.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(m.jsx)(i.e,{type:"submit",color:"primary",className:"btn-next",children:Object(m.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Save"})})]})]}),Object(m.jsx)(b.a,{isOpen:e,message:a,severity:r,handleCloseAlert:()=>{var e;"clickaway"!==e&&t(!1)}})]})}}}]);
//# sourceMappingURL=19.30ba3ea5.chunk.js.map