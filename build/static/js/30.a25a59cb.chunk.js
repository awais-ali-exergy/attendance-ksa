(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[30],{895:function(e,t,a){"use strict";a.r(t);var c=a(0),o=a(103),s=a(36),n=(a(104),a(9)),l=(a(794),a(813),a(804),a(793)),r=a(807),d=a(805),i=a(806),m=(a(808),a(797),a(5)),b=a(2);t.default=()=>{const[e,t]=Object(c.useState)(!1),[a,j]=Object(c.useState)(""),[h,p]=Object(c.useState)(""),{t:O}=Object(l.a)(),[u,N]=Object(c.useState)([]),[S,w]=Object(c.useState)([]),[x,g]=Object(c.useState)([]),[A,I]=Object(c.useState)([]),[f,y]=Object(c.useState)(new Date);console.log("data is");const[v,E]=Object(c.useState)(null),[C,B]=(Object(c.useRef)(null),O("Requester Detail"),r.a,O("Outlet Detail"),d.a,O("Area Detail"),i.a,Object(c.useState)({firstName:"",lastName:"",email:"",password:"",firmId:null,userId:0,departmentId:"",designationId:"",customFieldLabel:"",customFieldValue:"",contactNo:"",isAccountNonLocked:"",branchId:"",cnicNo:"",bankAccountNo:"",typeId:0,reportingToUserId:"",editEmployeeId:""})),U=e=>{B({...C,[e.target.name]:e.target.value})};Object(c.useEffect)((()=>{(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetUsersDropDownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS?w(e.DATA):Object(s.b)(e.USER_MESSAGE)})).catch((e=>{console.log("error",e),Object(s.b)("Failed to fetch ! Please try Again later.")}))})(),(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetFirmBranchesDropdownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS?I(e.DATA):Object(s.b)(e.USER_MESSAGE)})).catch((e=>{console.log("error",e),Object(s.b)("Failed to fetch ! Please try Again later")}))})(),(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetDesignationsDropdownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS?N(e.DATA):Object(s.b)(e.USER_MESSAGE)})).catch((e=>{console.log("error",e),Object(s.b)("Failed to fetch ! Please try Again later")}))})(),(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetDepartmentsDropdownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS?g(e.DATA):Object(s.b)(e.USER_MESSAGE)})).catch((e=>{console.log("error",e),Object(s.b)("Failed to fetch ! Please try Again later.")}))})()}),[]);const k=Object(n.f)();return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(s.a,{}),Object(b.jsxs)(m.B,{children:[Object(b.jsxs)(m.o,{md:"11",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Select Employee")}),Object(b.jsxs)(m.t,{type:"select",id:"editEmployeeId",name:"editEmployeeId",value:C.editEmployeeId,onChange:U,placeholder:"Select Employee",children:[Object(b.jsx)("option",{}),S&&S.length>0?S.map(((e,t)=>Object(b.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(b.jsx)(m.o,{md:"1",className:"my-2 ",children:Object(b.jsx)(m.e,{color:"primary",className:"btn-next",onClick:()=>(async e=>{var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("id",e);var c={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetWithCustomFieldsById"),c).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;console.log(e.DATA),t&&(B({userId:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,firmId:t.firmId,departmentId:t.departmentId,designationId:t.designationId,contactNo:t.contactNo,branchId:t.branchId,cnicNo:t.cnicNo,bankAccountNo:t.bankAccountNo,isAccountNonLocked:t.isAccountNonLocked,typeId:t.typeId,reportingToUserId:t.reportingToUserId}),setCustomFields([...t.customFields]))}else Object(s.b)(e.USER_MESSAGE)})).catch((e=>{console.log("error",e),Object(s.b)("Failed to fetch ! Please try Again later")}))})(C.editEmployeeId),children:Object(b.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Edit"})})})]}),Object(b.jsxs)(m.s,{id:"employeedata",onSubmit:()=>(async()=>{if(document.getElementById("password").value===document.getElementById("confirmPassword").value){var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData(document.getElementById("employeedata"));t.append("id",C.userId),t.append("typeId",C.typeId);var a={method:"POST",headers:e,body:t,redirect:"follow"},c="";c=C.userId?"/Users/Save":"/Users/SaveInActiveUser",await fetch("".concat("http://35.179.98.1:8081").concat("/AMS")+c,a).then((e=>e.json())).then((e=>{console.log("result is omcing",e),1===e.SUCCESS?(B({firstName:"",lastName:"",email:"",password:"",firmId:null,userId:0,departmentId:"",designationId:"",customFieldLabel:"",customFieldValue:"",contactNo:"",isAccountNonLocked:"",branchId:"",cnicNo:"",bankAccountNo:"",typeId:0,reportingToUserId:""}),Object(s.b)(e.USER_MESSAGE)):Object(s.b)(e.USER_MESSAGE)})).catch((e=>{console.log("error",e),Object(s.b)(result.USER_MESSAGE)}))}else Object(s.b)("New password & confirm password doesn't match")})(),children:[Object(b.jsxs)(m.B,{children:[Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("First Name")}),Object(b.jsx)(m.t,{name:"firstName",id:"firstName",value:C.firstName,onChange:U,placeholder:"First Name"})]}),Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Last Name")}),Object(b.jsx)(m.t,{id:"lastName",name:"lastName",autoComplete:"family-name",value:C.lastName,onChange:U,placeholder:"Last Name"})]}),Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Contact No")}),Object(b.jsx)(m.t,{id:"contactNo",name:"contactNo",value:C.contactNo,onChange:U,placeholder:"Contact No"})]})]}),Object(b.jsxs)(m.B,{children:[Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("National ID")}),Object(b.jsx)(m.t,{value:C.cnicNo,onChange:U,name:"cnicNo",id:"cnicNo",placeholder:"National ID"})]}),Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Email Address")}),Object(b.jsx)(m.t,{id:"email",label:"Email Address",name:"email",value:C.email,onChange:U,placeholder:"Email Address"})]}),Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Bank Account")}),Object(b.jsx)(m.t,{id:"bankAccountNo",type:"textarea",name:"bankAccountNo",value:C.bankAccountNo,onChange:U,placeholder:"Bank Account"})]})]}),Object(b.jsxs)(m.B,{children:[Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Department")}),Object(b.jsxs)(m.t,{type:"select",name:"departmentId",id:"departmentId",placeholder:"Department",value:C.departmentId,onChange:U,children:[Object(b.jsx)("option",{}),x&&x.length>0?x.map(((e,t)=>Object(b.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Designation")}),Object(b.jsxs)(m.t,{type:"select",id:"designationId",name:"designationId",value:C.designationId,onChange:U,placeholder:"Designation",children:[Object(b.jsx)("option",{}),u&&u.length>0?u.map(((e,t)=>Object(b.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(b.jsxs)(m.o,{md:"4",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Branch")}),Object(b.jsxs)(m.t,{type:"select",name:"branchId",id:"branchId",value:C.branchId,onChange:U,label:"Branch",placeholder:"Branch",children:[Object(b.jsx)("option",{}),A&&A.length>0?A.map(((e,t)=>Object(b.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(b.jsxs)(m.B,{children:[Object(b.jsxs)(m.o,{md:"6",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Password")}),Object(b.jsx)(m.t,{name:"password",label:"Password",type:"password",id:"password",placeholder:"Password"})]}),Object(b.jsxs)(m.o,{md:"6",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Confirm Password")}),Object(b.jsx)(m.t,{name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",placeholder:"Confirm Password"})]})]}),Object(b.jsxs)(m.B,{children:[Object(b.jsxs)(m.o,{md:"6",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("Repoting To")}),Object(b.jsxs)(m.t,{type:"select",id:"reportingToUserId",name:"reportingToUserId",value:C.reportingToUserId,onChange:U,placeholder:"Repoting To",children:[Object(b.jsx)("option",{}),S&&S.length>0?S.map(((e,t)=>Object(b.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(b.jsxs)(m.o,{md:"6",className:"mb-1",children:[Object(b.jsx)(m.w,{className:"form-label",children:O("User Status")}),Object(b.jsxs)(m.t,{type:"select",name:"isAccountNonLocked",id:"isAccountNonLocked",value:C.isAccountNonLocked,onChange:U,placeholder:"User Status",children:[Object(b.jsx)("option",{value:0,children:"block"}),Object(b.jsx)("option",{value:1,children:"Active"})]})]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsx)(m.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{k("/ViewAllEmployeeData")},children:Object(b.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(b.jsx)(m.e,{type:"submit",color:"primary",className:"btn-next",children:Object(b.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Save"})})]})]}),Object(b.jsx)(o.a,{isOpen:e,message:a,severity:h,handleCloseAlert:()=>{var e;"clickaway"!==e&&t(!1)}})]})}}}]);
//# sourceMappingURL=30.a25a59cb.chunk.js.map