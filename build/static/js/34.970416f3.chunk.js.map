{"version":3,"sources":["views/pages/LeaveModule/BasicLeaveData/BasicLeaveDataList.js"],"names":["styles","bgHeading","background","color","padding","textAlign","btnStyle","border","borderRadius","btnSpacing","display","justifyContent","alignItems","flexDirection","pad_Col","BasicLeaveDataList","leaves","setLeaves","useState","useEffect","async","fetch","concat","process","method","headers","Authorization","window","localStorage","getItem","redirect","then","response","status","json","result","console","log","SUCCESS","DATA","handleOpenAlert","_jsxs","children","USER_MESSAGE","catch","error","_jsx","getAllLeave","columnDefs","useMemo","headerName","field","sortable","filter","floatingFilter","cellRenderer","params","style","onClick","navigateToEdit","data","className","MdModeEdit","size","marginLeft","myHeaders","Headers","append","formdata","FormData","id","requestOptions","body","Logout","location","reload","deleteLeave","item","MdDelete","height","width","AgGridReact","rowData","pagination","paginationPageSize","paginationAutoPageSize","suppressPaginationPanel","animateRows","defaultColDef","resizable"],"mappings":"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","file":"static/js/34.970416f3.chunk.js","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { MdModeEdit } from \"react-icons/md\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport \"ag-grid-community/styles/ag-grid.css\";\r\nimport \"ag-grid-community/styles/ag-theme-quartz.css\";\r\nconst styles = {\r\n  bgHeading: {\r\n    background: \"#10a945\",\r\n    color: \"white\",\r\n    padding: \"30px\",\r\n    textAlign: \"center\",\r\n  },\r\n  btnStyle: {\r\n    // background: \"#10a945\",\r\n    // color: \"white\",\r\n    // padding: \"8px\",\r\n    // border: \"none\",\r\n    // borderRadius: \"10px\",\r\n    border: \"none\",\r\n    padding: \"0px 14px\",\r\n    background: \"#10a945\",\r\n    color: \"white\",\r\n    borderRadius: \"10px\",\r\n  },\r\n  btnSpacing: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"item\",\r\n  },\r\n  pad_Col: {\r\n    padding: \"15px\",\r\n    textAlign: \"center\",\r\n  },\r\n};\r\nconst BasicLeaveDataList = () => {\r\n  const [leaves, setLeaves] = useState([]);\r\n  const getAllLeave = async () => {\r\n    // setIsLoading(true);\r\n\r\n    await fetch(\r\n      `${process.env.REACT_APP_API_DOMAIN}${process.env.REACT_APP_SUB_API_NAME}/Leaves/GetAllByFirm`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer \" + window.localStorage.getItem(\"AtouBeatXToken\"),\r\n        },\r\n        redirect: \"follow\",\r\n      }\r\n    )\r\n      .then((response) => {\r\n        if (response.status === 401) {\r\n          //   <Logout />;\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((result) => {\r\n        console.log(result);\r\n        if (result.SUCCESS === 1) {\r\n          setLeaves(result.DATA);\r\n        } else {\r\n          handleOpenAlert(<span>{result.USER_MESSAGE}.</span>, \"danger\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n        handleOpenAlert(\r\n          <span>Failed to fetch ! Please try Again later.</span>,\r\n          \"danger\"\r\n        );\r\n      });\r\n    // setIsLoading(false);\r\n  };\r\n  //   const editLeave = (id) => {\r\n  //     window.location.replace(\"/MainDashboard/BasicLeave/\" + id);\r\n  //   };\r\n  const deleteLeave = async (id) => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"AtouBeatXToken\")\r\n    );\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"id\", id);\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: formdata,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    await fetch(\r\n      `${process.env.REACT_APP_API_DOMAIN}${process.env.REACT_APP_SUB_API_NAME}/Leaves/DeleteByIdAndFirm`,\r\n      requestOptions\r\n    )\r\n      .then((response) => {\r\n        if (response.status === 401) {\r\n          <Logout />;\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((result) => {\r\n        if (result.SUCCESS === 1) {\r\n          handleOpenAlert(<span>{result.USER_MESSAGE}.</span>, \"primary\");\r\n          window.location.reload();\r\n        } else {\r\n          handleOpenAlert(<span>{result.USER_MESSAGE}.</span>, \"danger\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n        handleOpenAlert(\r\n          <span>Failed to fetch ! Please try Again later.</span>,\r\n          \"danger\"\r\n        );\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getAllLeave();\r\n  }, []);\r\n\r\n  const columnDefs = useMemo(\r\n    () => [\r\n      {\r\n        headerName: \"Employee Name\",\r\n        field: \"userLabel\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Leave Type\",\r\n        field: \"attendanceTypeLabel\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Start Date\",\r\n        field: \"startOnDateDisplay\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"End Date\",\r\n        field: \"endOnDateDisplay\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Leave Reason\",\r\n        field: \"leaveReason\",\r\n        sortable: true,\r\n        filter: true,\r\n        floatingFilter: true,\r\n      },\r\n      {\r\n        headerName: \"Action\",\r\n        cellRenderer: (params) => (\r\n          <div style={styles.btnSpacing}>\r\n            <button\r\n              onClick={() => navigateToEdit(params.data)}\r\n              className=\"\"\r\n              style={styles.btnStyle}\r\n            >\r\n              <MdModeEdit size={20} />\r\n            </button>\r\n            <button\r\n              style={{ ...styles.btnStyle, marginLeft: \"8px\" }}\r\n              onClick={() => deleteLeave(item.id)}\r\n            >\r\n              <MdDelete size={25} />\r\n            </button>\r\n          </div>\r\n        ),\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <div\r\n        className=\"ag-theme-quartz\"\r\n        style={{\r\n          height: \"500px\",\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-evenly\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <AgGridReact\r\n          columnDefs={columnDefs}\r\n          rowData={leaves}\r\n          pagination={true}\r\n          paginationPageSize={10}\r\n          paginationAutoPageSize={true}\r\n          suppressPaginationPanel={true}\r\n          animateRows={true}\r\n          defaultColDef={{\r\n            sortable: true,\r\n            resizable: true,\r\n            filter: true,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BasicLeaveDataList;\r\n"],"sourceRoot":""}