(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[17],{791:function(e,t,a){},894:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(9),o=(a(791),a(790)),r=a(58),s=a.n(r),d=a(794),l=a.n(d),i=a(5),m=a(2);t.default=()=>{const e=Object(c.f)();let t=Object(c.g)(),a=parseInt(t.id);isNaN(a)&&(a=0);const{t:r}=Object(o.a)(),[d,h]=Object(n.useState)([]),[b,j]=Object(n.useState)([]),[p,u]=Object(n.useState)(new Date),[O,w]=Object(n.useState)(new Date),[S,f]=Object(n.useState)(new Date);console.log("data is");const[A,y]=Object(n.useState)(""),[g,D]=Object(n.useState)({userdate:"",usertime:"",attendanceTypeId:"",userId:""});Object(n.useEffect)((()=>{(async e=>{if(0!==e){var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("id",e);var n={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Attendances/GetManualByIdAndFirm"),n).then((e=>e.json())).then((e=>{if(console.log("getStoreById:",e),1===e.SUCCESS){let t=e.DATA;t&&(console.log(t),D({userdate:t.createdOnDateByUser,usertime:t.createdOnTimeByUser,attendanceTypeId:t.attendanceTypeId,userId:t.userId}),w(s()(t.createdOnByUserTimeDisplay,"hh:mm a").format("HH:mm")),f(new Date(t.createdOnDateByUser)))}})).catch((e=>{console.log("error",e)}))}})(a),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Attendances/GetUsersDropdownByFirm"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&h(t)}})).catch((e=>{console.log("error",e)}))})(),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Attendances/GetAttendanceTypesDropdown"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&j(t)}})).catch((e=>{console.log("error",e)}))})()}),[]);const x=e=>{const t=e[0];f(t);const a=s()(t).format("DD/MM/YYYY");D({...g,userdate:a}),console.log(a)};return Object(m.jsx)(n.Fragment,{children:Object(m.jsxs)(i.s,{id:"attForm",onSubmit:()=>(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData(document.getElementById("attForm"));t.append("id",a),t.append("createdOnDateByUser",g.userdate),t.append("createdOnTimeByUser",g.usertime),console.log(t);var n={method:"POST",headers:e,body:t,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Attendances/SaveManual"),n).then((e=>e.json())).then((e=>{e.SUCCESS})).catch((e=>{console.log("error",e)}))})(),children:[Object(m.jsxs)(i.B,{children:[Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",children:r("Holiday Label")}),Object(m.jsx)(i.t,{id:"bankAccountNo",name:"bankAccountNo",placeholder:"Bank Account"})]}),Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"Start Date"}),Object(m.jsx)(l.a,{value:S,dateFormat:"Y-m-d",id:"date-time-picker",className:"form-control",onChange:e=>x(e)})]})]}),Object(m.jsxs)(i.B,{children:[Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"End Date"}),Object(m.jsx)(l.a,{value:S,dateFormat:"Y-m-d",id:"date-time-picker",className:"form-control",onChange:e=>x(e)})]}),Object(m.jsxs)(i.o,{md:"6",className:"mb-1",children:[Object(m.jsx)(i.w,{className:"form-label",for:"date-time-picker",children:"Description"}),Object(m.jsx)(i.t,{id:"bankAccountNo",name:"bankAccountNo",placeholder:"Description"})]})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)(i.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{e("/ViewAllAttendanceData")},children:Object(m.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(m.jsx)(i.e,{type:"submit",color:"primary",className:"btn-next",children:Object(m.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:0!==a?"Update":"Save"})})]})]})})}}}]);
//# sourceMappingURL=17.87b6a393.chunk.js.map