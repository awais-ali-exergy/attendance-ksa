(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[28],{889:function(e,t,a){"use strict";a.r(t);var c=a(1),o=a(9),n=(a(791),a(810),a(797),a(790)),s=a(800),l=a(798),r=a(799),d=(a(805),a(794),a(5)),i=a(2);t.default=()=>{const{t:e}=Object(n.a)(),[t,a]=Object(c.useState)([]),[m,j]=Object(c.useState)([]),[h,b]=Object(c.useState)([]),[p,u]=Object(c.useState)([]),[O,N]=Object(c.useState)(new Date);console.log("data is");const[x,w]=Object(c.useState)(null),[g,I]=(Object(c.useRef)(null),e("Requester Detail"),s.a,e("Outlet Detail"),l.a,e("Area Detail"),r.a,Object(c.useState)({firstName:"",lastName:"",email:"",password:"",firmId:null,userId:0,departmentId:"",designationId:"",customFieldLabel:"",customFieldValue:"",contactNo:"",isAccountNonLocked:"",branchId:"",cnicNo:"",bankAccountNo:"",typeId:0,reportingToUserId:"",editEmployeeId:""})),f=e=>{I({...g,[e.target.name]:e.target.value})};Object(c.useEffect)((()=>{(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetUsersDropDownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS&&j(e.DATA)})).catch((e=>{console.log("error",e)}))})(),(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetFirmBranchesDropdownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS&&u(e.DATA)})).catch((e=>{console.log("error",e)}))})(),(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetDesignationsDropdownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS&&a(e.DATA)})).catch((e=>{console.log("error",e)}))})(),(()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetDepartmentsDropdownByFirm"),t).then((e=>e.json())).then((e=>{1===e.SUCCESS&&b(e.DATA)})).catch((e=>{console.log("error",e)}))})()}),[]);const A=Object(o.f)();return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsxs)(d.B,{children:[Object(i.jsxs)(d.o,{md:"11",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Select Employee")}),Object(i.jsxs)(d.t,{type:"select",id:"editEmployeeId",name:"editEmployeeId",value:g.editEmployeeId,onChange:f,placeholder:"Select Employee",children:[Object(i.jsx)("option",{}),m&&m.length>0?m.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(i.jsx)(d.o,{md:"1",className:"my-2 ",children:Object(i.jsx)(d.e,{color:"primary",className:"btn-next",onClick:()=>(async e=>{var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("id",e);var c={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat("http://35.179.98.1:8081").concat("/AMS","/Users/GetWithCustomFieldsById"),c).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;console.log(e.DATA),t&&(I({userId:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,firmId:t.firmId,departmentId:t.departmentId,designationId:t.designationId,contactNo:t.contactNo,branchId:t.branchId,cnicNo:t.cnicNo,bankAccountNo:t.bankAccountNo,isAccountNonLocked:t.isAccountNonLocked,typeId:t.typeId,reportingToUserId:t.reportingToUserId}),setCustomFields([...t.customFields]))}})).catch((e=>{console.log("error",e)}))})(g.editEmployeeId),children:Object(i.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Edit"})})})]}),Object(i.jsxs)(d.s,{id:"employeedata",onSubmit:()=>(async()=>{if(document.getElementById("password").value===document.getElementById("confirmPassword").value){var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData(document.getElementById("employeedata"));t.append("id",g.userId),t.append("typeId",g.typeId);var a={method:"POST",headers:e,body:t,redirect:"follow"},c="";c=g.userId?"/Users/Save":"/Users/SaveInActiveUser",await fetch("".concat("http://35.179.98.1:8081").concat("/AMS")+c,a).then((e=>e.json())).then((e=>{console.log("result is omcing",e),1===e.SUCCESS&&I({firstName:"",lastName:"",email:"",password:"",firmId:null,userId:0,departmentId:"",designationId:"",customFieldLabel:"",customFieldValue:"",contactNo:"",isAccountNonLocked:"",branchId:"",cnicNo:"",bankAccountNo:"",typeId:0,reportingToUserId:""})})).catch((e=>{console.log("error",e)}))}else alert("passmatch")})(),children:[Object(i.jsxs)(d.B,{children:[Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("First Name")}),Object(i.jsx)(d.t,{name:"firstName",id:"firstName",value:g.firstName,onChange:f,placeholder:"First Name"})]}),Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Last Name")}),Object(i.jsx)(d.t,{id:"lastName",name:"lastName",autoComplete:"family-name",value:g.lastName,onChange:f,placeholder:"Last Name"})]}),Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Contact No")}),Object(i.jsx)(d.t,{id:"contactNo",name:"contactNo",value:g.contactNo,onChange:f,placeholder:"Contact No"})]})]}),Object(i.jsxs)(d.B,{children:[Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("National ID")}),Object(i.jsx)(d.t,{value:g.cnicNo,onChange:f,name:"cnicNo",id:"cnicNo",placeholder:"National ID"})]}),Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Email Address")}),Object(i.jsx)(d.t,{id:"email",label:"Email Address",name:"email",value:g.email,onChange:f,placeholder:"Email Address"})]}),Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Bank Account")}),Object(i.jsx)(d.t,{id:"bankAccountNo",type:"textarea",name:"bankAccountNo",value:g.bankAccountNo,onChange:f,placeholder:"Bank Account"})]})]}),Object(i.jsxs)(d.B,{children:[Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Department")}),Object(i.jsxs)(d.t,{type:"select",name:"departmentId",id:"departmentId",placeholder:"Department",value:g.departmentId,onChange:f,children:[Object(i.jsx)("option",{}),h&&h.length>0?h.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Designation")}),Object(i.jsxs)(d.t,{type:"select",id:"designationId",name:"designationId",value:g.designationId,onChange:f,placeholder:"Designation",children:[Object(i.jsx)("option",{}),t&&t.length>0?t.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(i.jsxs)(d.o,{md:"4",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Branch")}),Object(i.jsxs)(d.t,{type:"select",name:"branchId",id:"branchId",value:g.branchId,onChange:f,label:"Branch",placeholder:"Branch",children:[Object(i.jsx)("option",{}),p&&p.length>0?p.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(i.jsxs)(d.B,{children:[Object(i.jsxs)(d.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Password")}),Object(i.jsx)(d.t,{name:"password",label:"Password",type:"password",id:"password",placeholder:"Password"})]}),Object(i.jsxs)(d.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Confirm Password")}),Object(i.jsx)(d.t,{name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",placeholder:"Confirm Password"})]})]}),Object(i.jsxs)(d.B,{children:[Object(i.jsxs)(d.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("Repoting To")}),Object(i.jsxs)(d.t,{type:"select",id:"reportingToUserId",name:"reportingToUserId",value:g.reportingToUserId,onChange:f,placeholder:"Repoting To",children:[Object(i.jsx)("option",{}),m&&m.length>0?m.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(i.jsxs)(d.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(d.w,{className:"form-label",children:e("User Status")}),Object(i.jsxs)(d.t,{type:"select",name:"isAccountNonLocked",id:"isAccountNonLocked",value:g.isAccountNonLocked,onChange:f,placeholder:"User Status",children:[Object(i.jsx)("option",{value:0,children:"block"}),Object(i.jsx)("option",{value:1,children:"Active"})]})]})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)(d.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{A("/ViewAllEmployeeData")},children:Object(i.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(i.jsx)(d.e,{type:"submit",color:"primary",className:"btn-next",children:Object(i.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Save"})})]})]})]})}}}]);
//# sourceMappingURL=28.3105d8ab.chunk.js.map